package cn.lliyuu520.haozi.common.cache;import cn.hutool.core.util.StrUtil;import cn.lliyuu520.haozi.modules.sys.entity.SysConfig;import jakarta.annotation.Resource;import lombok.RequiredArgsConstructor;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.stereotype.Component;/** * 系统配置缓存 * * @author liliangyu */@Component@RequiredArgsConstructorpublic class SysConfigCache {    @Resource    private RedisTemplate<String, SysConfig> redisTemplate;    private final static String key_prefix = "sys:config:{}";    /**     * 设置系统配置     * @param sysConfig     */    public void set(SysConfig sysConfig) {        String key = StrUtil.format(key_prefix, sysConfig.getCode());        redisTemplate.opsForValue().set(key, sysConfig);    }    /**     *  获取系统配置     * @param code     * @return     */    public SysConfig get(String code) {        String key = StrUtil.format(key_prefix, code);        return redisTemplate.opsForValue().get(key);    }    /**     *  清空所有系统配置缓存     */    public void clearAll() {        final String key = StrUtil.format(key_prefix, "*");        redisTemplate.delete(key);    }    /**     * 删除系统配置缓存     * @param code     */    public void clean(String code) {        String key = StrUtil.format(key_prefix, code);        redisTemplate.delete(key);    }}